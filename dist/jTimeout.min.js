/*
 jTimeout v3.0.1
 Made with love by HTMLGuy, LLC
 MIT Licensed
 */
!function(t){t.jTimeout=function(o){if(void 0!==window.jTimeout)return window.jTimeout;var e={timedOut:!1,timeoutWarning:!1,interval:!1,mouseTimeout:!1,options:o=t.extend({},t.jTimeout.defaults,o),get:function(t){return window.localStorage.getItem(t)},set:function(t,o){return window.localStorage.setItem(t,o)},getExpiration:function(){return this.get(this.options.expiration_key)},setExpiration:function(t){var o=new Date;return o.setSeconds(o.getSeconds()+t),this.set(this.options.expiration_key,o)},resetExpiration:function(){return this.setExpiration(this.options.timeoutAfter),this},getSecondsTillExpiration:function(){var t=Math.round((new Date(this.getExpiration()).getTime()-(new Date).getTime())/1e3);return t<=0?0:t},stopPriorCountdown:function(){e.priorCountDown&&(e.priorCountDown=!1)},resetOnAlert:function(){return e.options.triggerResetOnAlert?0===t("#jTimedoutAlert").length&&e.options.triggerResetOnAlert:0===t("#jTimeoutAlert").length&&0===t("#jTimedoutAlert").length},stopFlashing:function(){e.options.flashTitle&&(e.flashingTitle&&window.clearInterval(e.flashingTitle),e.flashingTitle=!1,document.title=e.options.originalTitle)},startFlashing:function(){!e.flashingTitle&&e.options.flashTitle&&(e.flashingTitle=window.setInterval(function(){document.title===e.options.flashingTitleText?document.title=e.options.originalTitle:document.title=e.options.flashingTitleText},e.options.flashTitleSpeed))},startPriorCountdown:function(t){e.priorCountDown=t},hideCountdownAlert:function(){e.timeoutWarning=!1;var o=t("#jTimeoutAlert");o.length>0&&o.closeAlert()},setMouseTimeout:function(t){this.mouseTimeout=t},stopMouseTimeout:function(){this.mouseTimeout&&window.clearTimeout(this.mouseTimeout)},stopActivityMonitoring:function(){e.stopMouseTimeout()},startActivityMonitoring:function(){e.stopActivityMonitoring(),e.options.extendOnMouseMove&&(n=1e3*e.options.mouseDebounce,e.mouseMoved=!1,e.setMouseTimeout(window.setTimeout(function(){t("body").on("mousemove.jTimeout",function(){!e.mouseMoved&&e.resetOnAlert()&&(e.mouseMoved=!0,e.setMouseTimeout(window.setTimeout(function(){e.mouseMoved=!1},n)),e.options.onMouseMove(e))})},n)))},setCountdown:function(t){this.interval=t},countdown:function(){e.getExpiration();var t=e.getSecondsTillExpiration();e.priorCountDown&&e.priorCountDown.text(t),t<=0&&!e.timedOut?(e.timeoutWarning=!0,e.timedOut=!0,e.options.onTimeout(e),e.stopActivityMonitoring()):t>0&&e.timedOut?(e.timeoutWarning=!1,e.timedOut=!1,e.options.onSessionExtended(e),e.startActivityMonitoring()):t<e.options.secondsPrior&&!e.timeoutWarning?(e.timeoutWarning=!0,e.startFlashing(),e.options.onPriorCallback(e,t)):t>=e.options.secondsPrior&&e.timeoutWarning&&(e.stopFlashing(),e.stopPriorCountdown(),e.hideCountdownAlert())},destroy:function(){e.stopFlashing(),e.stopActivityMonitoring(),delete e.options.onSessionExtended,delete e.countdown,t("body").off("mousemove.jTimeout")}};e.resetExpiration();var n=1e3*e.options.heartbeat;return e.setCountdown(window.setInterval(e.countdown,n)),e.startActivityMonitoring(),window.jTimeout=e,e},t.jTimeout.reset=function(o){var e=void 0===o?t.jTimeout.defaults.timeoutAfter:o;t.jTimeout().setExpiration(e)},t.jTimeout.defaults={expiration_key:"jtimeout-session-expiration",flashTitle:!0,flashTitleSpeed:500,flashingTitleText:"**WARNING**",originalTitle:document.title,timeoutAfter:1440,heartbeat:1,extendOnMouseMove:!0,mouseDebounce:30,onMouseMove:function(o){t.get({url:o.options.extendUrl,cache:!1,success:function(){o.resetExpiration()}})},extendUrl:"/dashboard",logoutUrl:"/logout",loginUrl:"/login",secondsPrior:60,triggerResetOnAlert:!1,onPriorCallback:function(o,e){t.jAlert({id:"jTimeoutAlert",title:"Oh No!",content:'<b>Your session will timeout in <span class="jTimeout_Countdown">'+e+"</span> seconds!</b>",theme:"red",closeBtn:!1,onOpen:function(t){o.startPriorCountdown(t.find(".jTimeout_Countdown"))},btns:[{text:"Extend my Session",theme:"blue",onClick:function(t,e){return t.preventDefault(),o.options.onClickExtend(o),e.parents(".jAlert").closeAlert(),!1}},{text:"Logout Now",onClick:function(t,e){return t.preventDefault(),window.location.href=o.options.logoutUrl,!1}}]})},onClickExtend:function(o){t.get({url:o.options.extendUrl,cache:!1}),o.resetExpiration()},onTimeout:function(o){t.jAlert({id:"jTimedoutAlert",title:"Oh No!",content:"<b>Your session has timed out.</b>",theme:"red",btns:{text:"Login Again",href:o.options.loginUrl,theme:"blue",closeAlert:!1},closeOnClick:!1,closeBtn:!1,closeOnEsc:!1}),t.get(o.options.logoutUrl)},onSessionExtended:function(o){t("#jTimedoutAlert").closeAlert()}}}(jQuery);
